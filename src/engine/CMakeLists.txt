set(common_engine_SRCS
	${CMAKE_CURRENT_SOURCE_DIR}/ban.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/chat.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/clientiface.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/collision.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/content_mapnode.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/content_nodemeta.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/content_sao.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/convert_json.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/craftdef.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/debug.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/defaultsettings.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/emerge.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/environment.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/face_position_cache.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/filesys.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/genericobject.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/gettext.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/httpfetch.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/inventory.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/inventorymanager.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/itemdef.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/itemstackmetadata.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/light.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/log.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/map.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/map_settings_manager.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/mapblock.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/mapnode.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/mapsector.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/metadata.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/modchannels.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/nameidmapping.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/nodedef.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/nodemetadata.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/nodetimer.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/noise.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/objdef.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/object_properties.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/pathfinder.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/player.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/porting.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/profiler.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/quicktune.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/raycast.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/reflowscan.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/remoteplayer.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/rollback.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/rollback_interface.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/serialization.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/server.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/serverenvironment.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/serverlist.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/serverobject.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/settings.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/staticobject.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/terminal_chat_console.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/tileanimation.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/tool.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/translation.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/version.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/voxel.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/voxelalgorithms.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/hud.cpp
	PARENT_SCOPE
)

if (BUILD_CLIENT)
	set(client_engine_SRCS
		${CMAKE_CURRENT_SOURCE_DIR}/camera.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/client.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/clientenvironment.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/clientmap.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/clientmedia.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/clientobject.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/clouds.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/content_cao.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/content_cso.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/content_mapblock.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/convert_json.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/filecache.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/fontengine.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/game.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/guiscalingfilter.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/hud.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/imagefilters.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/keycode.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/localplayer.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/main.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/mapblock_mesh.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/mesh.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/mesh_generator_thread.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/minimap.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/particles.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/shader.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/sky.cpp
		${CMAKE_CURRENT_SOURCE_DIR}/wieldmesh.cpp
		PARENT_SCOPE
	)
endif()

